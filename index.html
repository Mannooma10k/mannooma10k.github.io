<!DOCTYPE html>

<html>

    <head>

        <!-- Google Tag Manager -->

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':

new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],

j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=

'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);

})(window,document,'script','dataLayer','GTM-MCJRDZ23');</script>

<!-- End Google Tag Manager -->

        <title>Mannooma10k | Minecraft Add-ons</title>

        <meta charset="UTF-8">

        <meta name="description" content="Survival and multiplayer Minecraft addons, resource packs, and updated news—all in one place!">

        <meta name="keywords" content="Mannooma, Minecraft, Addons, Mods, Maps, Skins, Texture Packs">

        <meta name="author" content="Mannooma">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="icon" type="png" href="Mannooma.png">

        <link rel="stylesheet" href="style.css">

        <script src="https://kit.fontawesome.com/b8eda85835.js" crossorigin="anonymous"></script>

    </head>



  

    

    <!-- Main Body -->

     <body>

        <!-- Google Tag Manager (noscript) -->

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MCJRDZ23"

height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<!-- End Google Tag Manager (noscript) -->

            <header class="site-header">

                <div class="header-bar">

                    <div class="header-inner">

                    <div class="logo-wrap">

                        <img src="Imgs/Mannooma.png" alt="logo" class="logo">

                    </div>

                    <div class="title-wrap">

                        <div id="reload" class="site-title">My Add-Ons</div>

                        

                    </div>

                    <nav class="main-nav" aria-label="Main navigation">

                        <button class="nav-button">MY-ADDONS</button>

                        <button class="nav-button">SOCIAL</button>

                        <button class="nav-button">NEWS</button>

                        <button class="nav-button">OTHER ADDONS</button>

                    </nav>

                    </div>

                </div>

            </header>

            <!-- Mobile header (only shown on small screens) -->

            <header class="mobile-header" aria-hidden="false">

                <div class="mobile-inner">

                    <img id="reload" src="Imgs/Mannooma.png" alt="logo" class="mobile-logo">

                    <div id="reload" class="mobile-title">My Add-Ons</div>

                    <button id="mobile-menu-button" class="mobile-menu-toggle" aria-label="Open mobile menu">
                        <i class="fa-solid fa-bars fa-2xl"></i>
                    </button>

                </div>

            </header>

            <!-- Mobile menu overlay (hidden by default) -->

            <div id="mobile-menu" class="mobile-menu-overlay" aria-hidden="true">

                <div class="mobile-menu-inner" role="dialog" aria-modal="true" aria-label="Mobile navigation">
                   <button id="mobile-menu-close" class="close-menu-btn" aria-label="Close menu">
                        <i class="fa-solid fa-xmark"></i>
                    </button>
                    <nav class="mobile-nav">

                        <button class="nav-button">MY-ADDONS</button>

                        <button class="nav-button">SOCIAL</button>

                        <button class="nav-button">NEWS</button>

                        <button class="nav-button">OTHER ADDONS</button>

                    </nav>

                </div>

            </div>

            <br>





            <!-- Post Content -->





   <div class="page-content">

        

       <section class="posts">

           <article class="post" data-url="posts/tp_points.html">

               <img class="post-image" src="Imgs/tp_points.png" alt="Post image">

               <div class="post-header">

                   <h2 class="post-title">Tp Points</h2>

                   <span class="version">1.21</span>

               </div>

               <div class="rating">

                   <div class="stars" role="radiogroup" aria-label="Rating">

                       <button class="star" data-value="1" aria-label="1 star">☆</button>

                       <button class="star" data-value="2" aria-label="2 stars">☆</button>

                       <button class="star" data-value="3" aria-label="3 stars">☆</button>

                       <button class="star" data-value="4" aria-label="4 stars">☆</button>

                       <button class="star" data-value="5" aria-label="5 stars">☆</button>

                   </div>

                   <div class="rate-text">Rate this!</div>

               </div>

               <p class="post-excerpt">set points and instantly teleport across your world.</p>

           </article>



           <article class="post" data-url="posts/upranks.html">

               <img class="post-image" src="Imgs/upranks.jpg" alt="Post image">

               <div class="post-header">

                   <h2 class="post-title">UpRanks+</h2>

                   <span class="version">1.21</span>

               </div>

               <div class="rating">

                   <div class="stars" role="radiogroup" aria-label="Rating">

                       <button class="star" data-value="1" aria-label="1 star">☆</button>

                       <button class="star" data-value="2" aria-label="2 stars">☆</button>

                       <button class="star" data-value="3" aria-label="3 stars">☆</button>

                       <button class="star" data-value="4" aria-label="4 stars">☆</button>

                       <button class="star" data-value="5" aria-label="5 stars">☆</button>

                   </div>

                   <div class="rate-text">Rate this!</div>

               </div>

               <p class="post-excerpt">Set ranks easily for your players also (you can change their names)</p>

           </article>



           <article class="post" data-url="https://example.com/post-3">

               <img class="post-image" src="Imgs/health_bar.png" alt="Post image">

               <div class="post-header">

                   <h2 class="post-title">Health Bar</h2>

                   <span class="version">1.21</span>

               </div>

               <div class="rating">

                   <div class="stars" role="radiogroup" aria-label="Rating">

                       <button class="star" data-value="1" aria-label="1 star">☆</button>

                       <button class="star" data-value="2" aria-label="2 stars">☆</button>

                       <button class="star" data-value="3" aria-label="3 stars">☆</button>

                       <button class="star" data-value="4" aria-label="4 stars">☆</button>

                       <button class="star" data-value="5" aria-label="5 stars">☆</button>

                   </div>

                   <div class="rate-text">Rate this!</div>

               </div>

               <p class="post-excerpt">Displays a customizable health bar above players and mobs.</p>

           </article>

       </section>

      <!-- News posts (hidden by default) -->
      <section class="news-posts" aria-hidden="true">
          <article class="post" data-url="news/10.12.25.html">
              <img class="post-image" src="Imgs/1.21.130.jpg" alt="News image">
              <div class="post-header">
                  <h2 class="post-title" style:"line-height:1.8">MINECRAFT 1.21.130 BEDROCK CHANGELOG
                  </h2>
                  <span class="version">NEWS</span>
              </div>
              <p class="post-excerpt">Mounts of Mayhem charges into Minecraft today with new features, mobs, and weapons!</p>
          </article>
          <article class="post" data-url="news/12.10.25.html">
              <img class="post-image" src="Imgs/mayhem.jpg" alt="News image">
              <div class="post-header">
                  <h2 class="post-title" style:"line-height:1.8">MOUNTS OF MAYHEM IS HERE!
                  </h2>
                  <span class="version">NEWS</span>
              </div>
              <p class="post-excerpt">FACE CHALLENGES ALONE.
New mounts, spears, and foes have dropped. Don't rely on a team!</p>
          </article>
          <article class="post" data-url="news/12.9.25.html">
              <img class="post-image" src="Imgs/news.jpg" alt="News image">
              <div class="post-header">
                  <h2 class="post-title" style:"line-height:1.8">Minecraft 1.21.11 Candidate 3
                  </h2> <br>
<p style="color: #aaa;margin-top: 1px;font-size: 5px;">(A Minecraft Java Edition)</p>
                  <span class="version">NEWS</span>
              </div>
              <p class="post-excerpt">Mojang just dropped Release Candidate 3 for 1.21.11, Get the details on what's fixed.</p>
          </article>
          <article class="post" data-url="news/12.2.25.html">
              <img class="post-image" src="Imgs/news.jpg" alt="News image">
              <div class="post-header">
                  <h2 class="post-title">Minecraft’s New Version Numbering System</h2>
                  <span class="version">NEWS</span>
              </div>
              <p class="post-excerpt">Mojang adjusts internal version numbers — see what it means for addons.</p>
          </article>
          <article class="post" data-url="news/12.1.25.html">
              <img class="post-image" src="Imgs/news.jpg" alt="News image">
              <div class="post-header">
                  <h2 class="post-title">Website Announcement</h2>
                  <span class="version">NEWS</span>
              </div>
              <p class="post-excerpt">Celebration of the Release of the website.</p>
          </article>
      </section>

      <!-- Other Addons posts (hidden by default) -->
      <section class="other-posts" aria-hidden="true">
          <article class="post" data-url="posts/other1.html">
              <img class="post-image" src="Imgs/other1.png" alt="Other addon image">
              <div class="post-header">
                  <h2 class="post-title">Foot Printer ResourcePack</h2>
                  <span class="version">1.21</span>
              </div>
              <p class="post-excerpt">A ResourcePack adds foot prints on blocks.</p>
          </article>
          <article class="post" data-url="posts/other2.html">
              <img class="post-image" src="Imgs/other2.png" alt="Other addon image">
              <div class="post-header">
                  <h2 class="post-title">Visual FX Bundle</h2>
                  <span class="version">2.3</span>
              </div>
              <p class="post-excerpt">Adds new HUD effects, particles and transitions for custom maps.</p>
          </article>
          <article class="post" data-url="posts/other3.html">
              <img class="post-image" src="Imgs/other3.png" alt="Other addon image">
              <div class="post-header">
                  <h2 class="post-title">Economy Lite</h2>
                  <span class="version">0.9</span>
              </div>
              <p class="post-excerpt">Lightweight economy addon for small servers and testing.</p>
          </article>
      </section>

        <!-- Social overlay (floating above posts) -->
        <div class="social-overlay" aria-hidden="true">
            <button class="social-close" id="social-close" aria-label="Close social overlay">×</button>
            <div class="social-backdrop" id="socialBackdrop"></div>
            <section class="social-posts" aria-hidden="true">
                <article class="post" data-url="https://youtube.com/@mannooma_0?si=ZVXHUWcu80CHzj0w">
                    <img class="post-image" src="Imgs/youtube.png" alt="YouTube">
                    <div class="post-header"><h2 class="post-title" style="color: #ff000d;">YouTube</h2></div>
                    <p class="post-excerpt">Subscribe to our channel for add-ons showcases and tutorials.</p>
                </article>
                <article class="post" data-url="https://discord.gg/VMrN8AnTEB">
                    <img class="post-image" src="Imgs/discord.jpg" alt="Discord">
                    <div class="post-header"><h2 class="post-title"style="color: #7e009e;">Discord</h2></div>
                    <p class="post-excerpt">Join our Discord to chat with the community and get support.</p>
                </article>
                <article class="post" data-url="https://linktr.ee/Mannooma_0">
                    <img class="post-image" src="Imgs/otherlinks.jpg" alt="Other Links">
                    <div class="post-header"><h2 class="post-title">Other Links</h2></div>
                    <p class="post-excerpt">All Socials, contact info are there.</p>
                </article>
            </section>
        </div>

   </div>

         
             <button id="changerBtn" class="button-changer"><i id="changerIcon" class="fa-solid fa-moon" style="color: white;"></i></button>
             
             
             
             
            <footer class="site-footer">

                <div class="footer-bar">

                    <div class="footer-text">© 2025 Mannooma10k. All rights reserved.<br><br>This site is not affiliated with Mojang Studios</div>

                    <div class="footer-links"><a href="legal/terms-of-use.html" class="footer-link">Terms</a> <span class="sep">|</span> <a href="legal/privacy-policy.html" class="footer-link">Privacy</a></div>

                </div>

            </footer>

    </body>





    <!-- Js section -->

        <script>

const btn = document.getElementById("changerBtn");
const icon = document.getElementById("changerIcon");
const icony = document.getElementById("mobile-menu-button");
// Sound to play when the changer button is pressed
const changerSound = new Audio('src/ogg.mp3');
changerSound.preload = 'auto';
// Sound to play when any main nav button is clicked (four buttons)
const navSound = new Audio('src/ogg.mp3');
navSound.preload = 'auto';
// dbhhdhed
const xSound = new Audio('src/ogg.mp3');
xSound.preload = 'auto';

// load saved mode
let dark = localStorage.getItem("site-theme") === "dark";

// apply saved mode on load
applyTheme();

btn.addEventListener("click", () => {
    // play sound (reset to start so repeated clicks replay)
    try {
        changerSound.currentTime = 0;
        changerSound.play().catch(() => {});
    } catch (e) {
        // ignore playback errors (e.g., file missing)
    }
    

    dark = !dark;
    localStorage.setItem("site-theme", dark ? "dark" : "light");
    applyTheme();
});


function applyTheme() {
    if (dark) {
        document.body.style.transition = "background 0.5s ease";
        document.body.style.backgroundColor = "#000000";
        document.body.style.backgroundImage = "radial-gradient(white 2px, transparent 0)";
        document.body.classList.remove("light-mode");
        document.body.classList.remove("ddc");
        document.body.classList.remove("ddc1");
        document.body.classList.remove("ddb");
        document.body.classList.remove("ddb1")
        document.body.classList.add("ddr");
        icon.className = "fa-solid fa-sun";
        icon.style.color = "white";
        icony.style.color = "white";
    } else {
        document.body.style.transition = "background 0.5s ease";
        document.body.style.backgroundColor = "#ff6200";
        document.body.style.backgroundImage = "radial-gradient(black 2px, transparent 0)";
        document.body.classList.add("light-mode");
        document.body.classList.add("ddc");
        document.body.classList.add("ddc1");
        document.body.classList.add("ddb")
        document.body.classList.add("ddb1");
        icon.className = "fa-solid fa-moon";
        icon.style.color = "white";
        icony.style.color = "#ff6200";
    }
}
             // Reload when title clicked

             const reloadTextElement = document.getElementById('reload');

             reloadTextElement.addEventListener('click', function() {

                location.reload();

        });

// Mobile menu toggle behavior
 (function() {
            const menuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const closeButton = document.getElementById('mobile-menu-close'); // NEW: Get the close button
            // don't bail out just because the close button isn't present — make it optional
            if (!menuButton || !mobileMenu) return;

            function openMenu() {
                mobileMenu.classList.add('active');
                mobileMenu.setAttribute('aria-hidden', 'false');
                // move focus to first button for accessibility
                const first = mobileMenu.querySelector('.mobile-nav .nav-button');
                if (first) first.focus();
            }

            function closeMenu() {
                mobileMenu.classList.remove('active');
                mobileMenu.setAttribute('aria-hidden', 'true');
                menuButton.focus();
            }
            
            // Helper to detect a touch device
            function isTouchDevice() {
                return ('ontouchstart' in window) || (navigator.maxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0);
            }

            menuButton.addEventListener('click', (e) => {
                e.stopPropagation();
                try { xSound.currentTime = 0; xSound.play().catch(() => {}); } catch (err) {}
                if (mobileMenu.classList.contains('active')) closeMenu(); else openMenu();
            });
            
            // NEW: Event listener for the close 'X' button (only if present)
            if (closeButton) closeButton.addEventListener('click', closeMenu);

            // Modify overlay click behavior
            mobileMenu.addEventListener('click', (e) => {
                // Only trigger if the click is on the overlay background, not the inner menu
                if (e.target === mobileMenu) {
                    if (isTouchDevice()) {
                        // On mobile/touch: Navigate to index.html
                        window.location.href = 'index.html';
                    } else {
                        // On PC/Desktop: Close the menu
                        closeMenu();
                    }
                }
            });

            // Close on Escape
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && mobileMenu.classList.contains('active')) closeMenu();
            });
            
            // Close when selecting a mobile nav button
            const mobileNavButtons = mobileMenu.querySelectorAll('.mobile-nav .nav-button');
            mobileNavButtons.forEach(btn => btn.addEventListener('click', () => closeMenu()));
        })();

        // Navigation button behavior:

        // - Make the first nav button (MY-ADDONS) active on load

        // - Clicking the already-active button does nothing (prevents unpressing)

        // - Clicking another button switches the active state

        (function() {

            const navButtons = document.querySelectorAll('.main-nav .nav-button');
            const mobileNavButtons = document.querySelectorAll('.mobile-nav .nav-button');
            const postsContainer = document.querySelector('.posts');
            const newsContainer = document.querySelector('.news-posts');
            const otherContainer = document.querySelector('.other-posts');
            const socialContainer = document.querySelector('.social-posts');
            const socialOverlay = document.querySelector('.social-overlay');

            if (!navButtons || navButtons.length === 0) return;

            // helper to show/hide social view with transitions
            function showSocial(show) {
                console.log('showSocial enter', show, {postsContainer: !!postsContainer, socialContainer: !!socialContainer, socialOverlay: !!socialOverlay});
                if (!postsContainer || !socialContainer || !socialOverlay) {
                    console.log('showSocial early return - missing containers');
                    return;
                }
                if (show) {
                    // hide news if visible
                    if (newsContainer) showNews(false);
                    postsContainer.classList.add('dimmed');
                    socialOverlay.classList.add('active');
                    socialOverlay.setAttribute('aria-hidden', 'false');
                    // prevent body from scrolling while overlay is open
                    try { document.body.classList.add('no-scroll'); } catch (e) {}
                    console.log('showSocial applied show: socialOverlay active=', socialOverlay.classList.contains('active'), 'body no-scroll=', document.body.classList.contains('no-scroll'));
                } else {
                    postsContainer.classList.remove('dimmed');
                    socialOverlay.classList.remove('active');
                    socialOverlay.setAttribute('aria-hidden', 'true');
                    try { document.body.classList.remove('no-scroll'); } catch (e) {}
                    console.log('showSocial applied hide: socialOverlay active=', socialOverlay.classList.contains('active'));
                }
            }

            // helper to show/hide news posts with a small transition
            function showNews(show) {
                console.log('showNews enter', show, {postsContainer: !!postsContainer, newsContainer: !!newsContainer});
                if (!postsContainer || !newsContainer) {
                    console.log('showNews early return - missing containers');
                    return;
                }
                // ensure social overlay is closed when showing news
                if (show && socialOverlay) {
                    socialOverlay.classList.remove('active');
                    socialOverlay.setAttribute('aria-hidden', 'true');
                }

                if (show) {
                    // ensure body scrolling is enabled for normal content
                    try { document.body.classList.remove('no-scroll'); } catch (e) {}
                    // animate posts out
                    postsContainer.classList.add('fade-transition');
                    postsContainer.classList.add('fade-out');
                    setTimeout(() => {
                        postsContainer.style.display = 'none';
                        // show news
                        newsContainer.style.display = 'grid';
                        newsContainer.classList.add('fade-transition');
                        // start hidden then show
                        newsContainer.classList.remove('fade-out');
                        newsContainer.classList.add('visible');
                        newsContainer.setAttribute('aria-hidden', 'false');
                        // cleanup after transition
                        setTimeout(() => {
                            postsContainer.classList.remove('fade-transition');
                            console.log('showNews completed show: posts hidden, news visible', {postsDisplay: postsContainer.style.display, newsDisplay: newsContainer.style.display});
                        }, 320);
                    }, 280);
                } else {
                    // hide news and reveal posts
                    newsContainer.classList.add('fade-transition');
                    newsContainer.classList.add('fade-out');
                    setTimeout(() => {
                        newsContainer.style.display = 'none';
                        newsContainer.classList.remove('visible');
                        newsContainer.setAttribute('aria-hidden', 'true');
                        // show posts again
                        postsContainer.style.display = 'grid';
                        postsContainer.classList.remove('fade-out');
                        postsContainer.classList.add('visible');
                        postsContainer.setAttribute('aria-hidden', 'false');
                        setTimeout(() => {
                            newsContainer.classList.remove('fade-transition');
                            postsContainer.classList.remove('fade-transition');
                            console.log('showNews completed hide: posts visible, news hidden', {postsDisplay: postsContainer.style.display, newsDisplay: newsContainer.style.display});
                        }, 320);
                    }, 280);
                }
            }

            // helper to show/hide other-addons posts with a small transition
            function showOther(show) {
                console.log('showOther enter', show, {postsContainer: !!postsContainer, otherContainer: !!otherContainer});
                if (!postsContainer || !otherContainer) {
                    console.log('showOther early return - missing containers');
                    return;
                }
                // ensure social overlay is closed when showing other addons
                if (show && socialOverlay) {
                    socialOverlay.classList.remove('active');
                    socialOverlay.setAttribute('aria-hidden', 'true');
                }

                if (show) {
                    // ensure body scrolling is enabled for normal content
                    try { document.body.classList.remove('no-scroll'); } catch (e) {}
                    // animate posts out
                    postsContainer.classList.add('fade-transition');
                    postsContainer.classList.add('fade-out');
                    setTimeout(() => {
                        postsContainer.style.display = 'none';
                        // show other addons
                        otherContainer.style.display = 'grid';
                        otherContainer.classList.add('fade-transition');
                        otherContainer.classList.remove('fade-out');
                        otherContainer.classList.add('visible');
                        otherContainer.setAttribute('aria-hidden', 'false');
                        setTimeout(() => {
                            postsContainer.classList.remove('fade-transition');
                            console.log('showOther completed show: posts hidden, other visible', {postsDisplay: postsContainer.style.display, otherDisplay: otherContainer.style.display});
                        }, 320);
                    }, 280);
                } else {
                    // hide other and reveal posts
                    otherContainer.classList.add('fade-transition');
                    otherContainer.classList.add('fade-out');
                    setTimeout(() => {
                        otherContainer.style.display = 'none';
                        otherContainer.classList.remove('visible');
                        otherContainer.setAttribute('aria-hidden', 'true');
                        // show posts again
                        postsContainer.style.display = 'grid';
                        postsContainer.classList.remove('fade-out');
                        postsContainer.classList.add('visible');
                        postsContainer.setAttribute('aria-hidden', 'false');
                        setTimeout(() => {
                            otherContainer.classList.remove('fade-transition');
                            postsContainer.classList.remove('fade-transition');
                            console.log('showOther completed hide: posts visible, other hidden', {postsDisplay: postsContainer.style.display, otherDisplay: otherContainer.style.display});
                        }, 320);
                    }, 280);
                }
            }

            // Default to the first button (MY-ADDONS)
            const defaultBtn = navButtons[0];
            defaultBtn.classList.add('active');
            // start with addons visible
            showSocial(false);

            function handleNavClick(btn, force = false) {
                console.log('handleNavClick called for:', btn && (btn.textContent||btn.innerText||btn));
                // play nav click sound
                try { navSound.currentTime = 0; navSound.play().catch(() => {}); } catch (e) {}

                if (!force && btn.classList.contains('active')) return;
                const prev = document.querySelector('.main-nav .nav-button.active');
                if (prev) prev.classList.remove('active');
                // make sure main-nav active reflects selection (if mobile used, keep parity)
                // if clicked element is from mobile, also update main-nav active when labels match
                btn.classList.add('active');

                const label = btn.textContent ? btn.textContent.trim().toUpperCase() : '';
                if (label === 'SOCIAL') {
                    showNews(false);
                    showOther(false);
                    showSocial(true);
                } else if (label === 'NEWS') {
                    showSocial(false);
                    showOther(false);
                    showNews(true);
                } else if (label === 'OTHER ADDONS' || label === 'OTHER ADDONS') {
                    // support multiple possible label casings
                    showSocial(false);
                    showNews(false);
                    showOther(true);
                } else if (label === 'MY-ADDONS') {
                    showSocial(false);
                    showNews(false);
                    showOther(false);
                } else {
                    showSocial(false);
                    showNews(false);
                    showOther(false);
                }
                // log post-view states after initiating the change
                try {
                    console.log('handleNavClick end state:', {
                        postsDisplay: postsContainer ? postsContainer.style.display : 'missing',
                        newsDisplay: newsContainer ? newsContainer.style.display : 'missing',
                        otherDisplay: otherContainer ? otherContainer.style.display : 'missing',
                        socialActive: socialOverlay ? socialOverlay.classList.contains('active') : false,
                        bodyNoScroll: document.body.classList.contains('no-scroll')
                    });
                } catch (e) { console.log('handleNavClick end logging failed', e); }
            }

            // expose to global scope so delegated handlers can call it
            try { window.handleNavClick = handleNavClick; } catch (e) {}

            navButtons.forEach(btn => {
                btn.addEventListener('click', () => handleNavClick(btn));
            });

            // Mirror behavior for mobile nav buttons (if present)
            if (mobileNavButtons && mobileNavButtons.length) {
                mobileNavButtons.forEach(mBtn => {
                    mBtn.addEventListener('click', () => {
                        // When a mobile nav button is clicked, make it the only active button
                        try {
                            // remove active from all navs
                            document.querySelectorAll('.main-nav .nav-button').forEach(b => b.classList.remove('active'));
                            document.querySelectorAll('.mobile-nav .nav-button').forEach(b => b.classList.remove('active'));
                            // find matching main nav button
                            const lbl = mBtn.textContent ? mBtn.textContent.trim().toUpperCase() : '';
                            const matching = Array.from(navButtons).find(nb => nb.textContent && nb.textContent.trim().toUpperCase() === lbl);
                            if (matching) matching.classList.add('active');
                            // set mobile button active too
                            mBtn.classList.add('active');
                            // perform the view change — prefer calling with the main button so existing logic behaves
                            handleNavClick(matching || mBtn, true);
                        } catch (e) {
                            // fallback: just call the handler (force)
                            handleNavClick(mBtn, true);
                        }
                            // close the mobile menu after selection
                        const mm = document.getElementById('mobile-menu');
                        if (mm) { mm.classList.remove('active'); mm.setAttribute('aria-hidden','true'); }
                        try { document.body.classList.remove('no-scroll'); } catch (e) {}
                    });
                });
            }

        })();

        // Delegated handler for mobile nav buttons (fallback) — catches clicks that missed individual listeners
        (function() {
            document.addEventListener('click', function delegatedMobileNav(e) {
                const btn = e.target.closest('.mobile-nav .nav-button');
                if (!btn) return;
                console.log('delegated mobile nav click for:', btn.textContent && btn.textContent.trim());
                try {
                    document.querySelectorAll('.main-nav .nav-button').forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('.mobile-nav .nav-button').forEach(b => b.classList.remove('active'));
                    const lbl = btn.textContent ? btn.textContent.trim().toUpperCase() : '';
                    const mainBtns = Array.from(document.querySelectorAll('.main-nav .nav-button'));
                    const matching = mainBtns.find(nb => nb.textContent && nb.textContent.trim().toUpperCase() === lbl);
                    if (matching) matching.classList.add('active');
                    btn.classList.add('active');
                    handleNavClick(matching || btn, true);
                    const mm = document.getElementById('mobile-menu');
                    if (mm) { mm.classList.remove('active'); mm.setAttribute('aria-hidden','true'); }
                    try { document.body.classList.remove('no-scroll'); } catch (e) {}
                } catch (err) { console.error(err); }
            });
        })();



        // Post behavior: open URL when title is clicked and hide icons for that post

        (function() {

            const posts = document.querySelectorAll('.post');

            posts.forEach(post => {

                const title = post.querySelector('.post-title');

                const icons = post.querySelectorAll('.post-actions .icon-btn');

                const url = post.dataset.url;



                if (!title) return;

                title.style.cursor = 'pointer';



                title.addEventListener('click', (e) => {

                    // Hide the icons for this post

                    icons.forEach(ic => ic.style.display = 'none');



                    // Open the URL in a new tab/window if present

                    if (url) {

                        window.open(url, '_blank');

                    }

                });

            });

        })();



        // Interactive star rating behavior with persistence

        (function() {

            const starGroups = document.querySelectorAll('.stars');

            starGroups.forEach((group, idx) => {

                const stars = Array.from(group.querySelectorAll('.star'));

                const post = group.closest('.post');

                // Use post URL if available to make storage key unique, otherwise fallback to index

                const storageKey = post && post.dataset.url ? 'rating:' + post.dataset.url : 'rating:post:' + idx;

                // load saved rating (if any)

                let currentRating = 0;

                try {

                    const saved = localStorage.getItem(storageKey);

                    if (saved !== null) currentRating = parseInt(saved, 10) || 0;

                } catch (e) {

                    // localStorage may be unavailable in some contexts; ignore silently

                }



                function fill(n) {

                    stars.forEach(s => {

                        const v = parseInt(s.dataset.value, 10);

                        if (v <= n) {

                            s.classList.add('filled');

                            s.textContent = '★';

                            s.setAttribute('aria-pressed', 'true');

                        } else {

                            s.classList.remove('filled');

                            s.textContent = '☆';

                            s.setAttribute('aria-pressed', 'false');

                        }

                    });

                }



                stars.forEach(star => {

                    const val = parseInt(star.dataset.value, 10);

                    star.addEventListener('mouseover', () => fill(val));

                    star.addEventListener('focus', () => fill(val));

                    star.addEventListener('mouseout', () => fill(currentRating));

                    star.addEventListener('blur', () => fill(currentRating));

                    star.addEventListener('click', () => {

                        currentRating = val;

                        // store on containing post element as well

                        if (post) post.dataset.rating = currentRating;

                        try {

                            localStorage.setItem(storageKey, String(currentRating));

                        } catch (e) {

                            // ignore storage errors

                        }

                        fill(currentRating);

                    });

                });



                // initialize display with saved rating

                fill(currentRating);

            });

        })();



        // Mobile menu toggle behavior

        (function() {

            const menuButton = document.getElementById('mobile-menu-button');

            const mobileMenu = document.getElementById('mobile-menu');

            if (!menuButton || !mobileMenu) return;



            function openMenu() {

                mobileMenu.classList.add('active');

                mobileMenu.setAttribute('aria-hidden', 'false');

                // move focus to first button for accessibility

                const first = mobileMenu.querySelector('.mobile-nav .nav-button');

                            // play menu open/close sound
                            try { xSound.currentTime = 0; xSound.play().catch(() => {}); } catch (err) {}
                            if (mobileMenu.classList.contains('active')) closeMenu(); else openMenu();

            }



            function closeMenu() {

                mobileMenu.classList.remove('active');

                mobileMenu.setAttribute('aria-hidden', 'true');

                menuButton.focus();

            }



            menuButton.addEventListener('click', (e) => {

                e.stopPropagation();

                // play menu open/close sound (fallback handler)
                try { xSound.currentTime = 0; xSound.play().catch(() => {}); } catch (err) {}

                if (mobileMenu.classList.contains('active')) closeMenu(); else openMenu();

            });



            // Close when clicking the overlay background (but not the inner dialog)

            mobileMenu.addEventListener('click', (e) => {

                if (e.target === mobileMenu) closeMenu();

            });



            // Close on Escape

            document.addEventListener('keydown', (e) => {

                if (e.key === 'Escape' && mobileMenu.classList.contains('active')) closeMenu();

            });



            // Close when selecting a mobile nav button

            const mobileNavButtons = mobileMenu.querySelectorAll('.mobile-nav .nav-button');

            mobileNavButtons.forEach(btn => btn.addEventListener('click', () => closeMenu()));

        })();

        </script>

        <script>
        // Extra fallback: ensure mobile menu opens on touch devices
        (function() {
            const btn = document.getElementById('mobile-menu-button');
            const menu = document.getElementById('mobile-menu');
            if (!btn || !menu) return;

            function toggleMenu(e) {
                try { e.preventDefault(); } catch (err) {}
                try { e.stopPropagation(); } catch (err) {}
                // play sound
                try { xSound.currentTime = 0; xSound.play().catch(() => {}); } catch (err) {}
                const isActive = menu.classList.toggle('active');
                menu.setAttribute('aria-hidden', isActive ? 'false' : 'true');
                btn.setAttribute('aria-expanded', String(isActive));
                // small visual debug
                console.log('mobile menu toggled via fallback listener:', isActive);
            }

            btn.addEventListener('click', toggleMenu, { passive: false });
            btn.addEventListener('touchstart', toggleMenu, { passive: false });
        })();
        </script>
        <script>
        // Add close behavior for the social overlay close button and backdrop
        (function() {
            const socialOverlay = document.querySelector('.social-overlay');
            const socialClose = document.getElementById('social-close');
            const socialBackdrop = document.getElementById('socialBackdrop');
            const postsContainer = document.querySelector('.posts');
            if (!socialOverlay || !socialClose || !postsContainer) return;

            function closeSocial() {
                // play close sound (ogg in src/ogg.mp3)
                try { xSound.currentTime = 0; xSound.play().catch(() => {}); } catch (e) {}

                postsContainer.classList.remove('dimmed');
                socialOverlay.classList.remove('active');
                socialOverlay.setAttribute('aria-hidden', 'true');
                try { document.body.classList.remove('no-scroll'); } catch (e) {}

                // Restore main navigation active state to "MY-ADDONS" (desktop + mobile)
                try {
                    const mainBtns = document.querySelectorAll('.main-nav .nav-button');
                    mainBtns.forEach(b => b.classList.remove('active'));
                    const myMain = Array.from(mainBtns).find(b => (b.textContent||'').trim().toUpperCase() === 'MY-ADDONS');
                    if (myMain) myMain.classList.add('active');

                    const mobileBtns = document.querySelectorAll('.mobile-nav .nav-button');
                    mobileBtns.forEach(b => b.classList.remove('active'));
                    const myMobile = Array.from(mobileBtns).find(b => (b.textContent||'').trim().toUpperCase() === 'MY-ADDONS');
                    if (myMobile) myMobile.classList.add('active');
                } catch (e) {
                    // ignore
                }
            }

            socialClose.addEventListener('click', closeSocial);
            if (socialBackdrop) socialBackdrop.addEventListener('click', closeSocial);
        })();
        </script>



</html>












